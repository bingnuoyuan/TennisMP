<!--pages/profile/index.wxml-->
<view class="container">
  <!-- User Info Section -->
  <view class="user-section">
    <view class="user-card" wx:if="{{hasUserInfo}}">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="user-info">
        <view class="nickname">{{userInfo.nickName}}</view>
        <view class="user-tag">ğŸ¾ Tennis Club Member</view>
      </view>
    </view>

    <view class="login-card" wx:else bindtap="getUserProfile">
      <view class="login-avatar">
        <text class="login-icon">ğŸ‘¤</text>
      </view>
      <view class="login-text">Tap to Login</view>
      <view class="login-arrow">â€º</view>
    </view>
  </view>

  <!-- Stats -->
  <view class="stats-section">
    <view class="stats-item" bindtap="goToMyActivities">
      <view class="stats-value">{{stats.totalActivities}}</view>
      <view class="stats-label">Total Events</view>
    </view>
    <view class="stats-divider"></view>
    <view class="stats-item" bindtap="goToMyActivities">
      <view class="stats-value">{{stats.upcomingActivities}}</view>
      <view class="stats-label">Upcoming</view>
    </view>
  </view>

  <!-- Menu -->
  <view class="menu-section">
    <view class="menu-item" bindtap="goToMyActivities">
      <view class="menu-icon">ğŸ“‹</view>
      <view class="menu-text">My Events</view>
      <view class="menu-arrow">â€º</view>
    </view>

    <view class="menu-item" bindtap="goToMyStats">
      <view class="menu-icon">ğŸ“Š</view>
      <view class="menu-text">My Stats</view>
      <view class="menu-arrow">â€º</view>
    </view>

    <view class="menu-item" bindtap="goToPhotoGallery">
      <view class="menu-icon">ğŸ“¸</view>
      <view class="menu-text">Photo Gallery</view>
      <view class="menu-arrow">â€º</view>
    </view>

    <view class="menu-item" bindtap="goToClubFunds">
      <view class="menu-icon">ğŸ’°</view>
      <view class="menu-text">Club Funds</view>
      <view class="menu-arrow">â€º</view>
    </view>

    <view class="menu-item" bindtap="contactService">
      <view class="menu-icon">ğŸ’¬</view>
      <view class="menu-text">Contact Us</view>
      <view class="menu-arrow">â€º</view>
    </view>

    <view class="menu-item" bindtap="showAbout">
      <view class="menu-icon">â„¹ï¸</view>
      <view class="menu-text">About</view>
      <view class="menu-arrow">â€º</view>
    </view>
  </view>

  <!-- Slogan -->
  <view class="slogan">
    <text class="slogan-text">Just Do Tennis ğŸ¾</text>
  </view>
</view>

<!-- QR Code Popup -->
<view class="popup-mask" wx:if="{{showQRPopup}}" bindtap="closeQRPopup">
  <view class="popup-content" catchtap="preventClose">
    <view class="popup-header">
      <text class="popup-title">Join Our Group</text>
      <view class="popup-close" bindtap="closeQRPopup">Ã—</view>
    </view>
    <view class="popup-body">
      <image 
        class="qr-image" 
        src="/images/assistant-qrcode.jpg" 
        mode="aspectFit"
        show-menu-by-longpress="{{true}}"
      />
      <view class="qr-tip">Long press to save QR code</view>
      <view class="qr-note">Add group assistant to join</view>
    </view>
  </view>
</view>


