<!--pages/my-activities/index.wxml-->
<view class="container">
  <!-- Loading -->
  <view class="loading-wrap" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">Loading...</text>
  </view>

  <!-- Empty State -->
  <view class="empty-wrap" wx:elif="{{isEmpty}}">
    <text class="empty-icon">ğŸ“‹</text>
    <text class="empty-text">No Bookings Yet</text>
    <text class="empty-desc">Join an event now!</text>
    <navigator url="/pages/index/index" open-type="switchTab" class="btn-go">
      Browse Events
    </navigator>
  </view>

  <!-- Activity List -->
  <view class="activity-list" wx:else>
    <view 
      class="activity-card" 
      wx:for="{{activities}}" 
      wx:key="_id"
      bindtap="goToDetail"
      data-id="{{item.activityId}}"
    >
      <view class="activity-header">
        <view class="activity-title">{{item.activityTitle}}</view>
        <view class="activity-status {{item.status === 'paid' ? 'status-success' : 'status-default'}}">
          {{item.status === 'paid' ? 'Registered' : 'Pending'}}
        </view>
      </view>

      <view class="activity-meta">
        <view class="meta-item">
          <text class="meta-icon">ğŸ“…</text>
          <text class="meta-text">{{item.activityDate}} {{item.activityTime}}</text>
        </view>
        <view class="meta-item">
          <text class="meta-icon">ğŸ“</text>
          <text class="meta-text">{{item.activityLocation}}</text>
        </view>
      </view>

      <view class="activity-footer">
        <view class="order-info">
          <text class="order-label">Booked: </text>
          <text class="order-value">{{item.createTimeStr}}</text>
        </view>
        <view class="order-price">Â¥{{item.amount}}</view>
      </view>
    </view>
  </view>
</view>

