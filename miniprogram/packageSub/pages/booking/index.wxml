<!--pages/booking/index.wxml-->
<view class="container">
  <!-- Event Info -->
  <view class="activity-info">
    <view class="activity-title">{{activityTitle}}</view>
    <view class="activity-price">
      <text class="price-label">Fee: </text>
      <text class="price-value">짜{{price}}</text>
    </view>
  </view>

  <!-- Booking Form -->
  <view class="form-card">
    <view class="form-title">Your Information</view>
    
    <!-- Name -->
    <view class="form-item">
      <view class="form-label">Name</view>
      <input 
        class="form-input"
        type="text"
        placeholder="Enter your name"
        placeholder-class="placeholder"
        value="{{name}}"
        bindinput="onNameInput"
      />
    </view>

    <!-- Phone -->
    <view class="form-item">
      <view class="form-label">Phone</view>
      <view class="phone-row">
        <text class="phone-value" wx:if="{{phone}}">{{phone}}</text>
        <button 
          wx:else
          class="btn-get-phone"
          open-type="getPhoneNumber"
          bindgetphonenumber="onGetPhoneNumber"
        >
          Tap to Authorize
        </button>
        <button 
          wx:if="{{phone}}"
          class="btn-change-phone"
          open-type="getPhoneNumber"
          bindgetphonenumber="onGetPhoneNumber"
        >
          Change
        </button>
      </view>
    </view>
  </view>

  <!-- Fee Details -->
  <view class="fee-card">
    <view class="fee-title">Fee Details</view>
    <view class="fee-item">
      <text class="fee-label">Event Fee</text>
      <text class="fee-value">짜{{price}}</text>
    </view>
    <view class="fee-item fee-total">
      <text class="fee-label">Total</text>
      <text class="fee-value total">짜{{price}}</text>
    </view>
  </view>

  <!-- Agreement -->
  <view class="agreement">
    <text class="agreement-text">By registering, you agree to the </text>
    <text class="agreement-link">Terms & Conditions</text>
  </view>
</view>

<!-- Bottom Bar -->
<view class="bottom-bar">
  <view class="total-info">
    <text class="total-label">Amount Due</text>
    <text class="total-amount">짜{{price}}</text>
  </view>
  <view 
    class="btn-submit {{submitting ? 'btn-disabled' : ''}}"
    bindtap="submitBooking"
  >
    {{submitting ? 'Submitting...' : 'Confirm'}}
  </view>
</view>


